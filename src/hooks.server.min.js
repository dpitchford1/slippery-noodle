import fs from"fs";import path from"path";import{fileURLToPath}from"url";const __dirname=path.dirname(fileURLToPath(import.meta.url));export async function handle({event:event,resolve:resolve}){return await resolve(event,{transformPageChunk:({html:html})=>{let criticalCss="";try{criticalCss=fs.readFileSync(path.join(__dirname,"../static/critical.css"),"utf-8"),console.log("âœ… Critical CSS successfully loaded")}catch(error){console.error("Could not read critical CSS:",error)}return html.replace("%sveltekit.criticalCss%",criticalCss)}})}